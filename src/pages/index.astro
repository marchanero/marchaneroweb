---
import Layout from '../layouts/Layout.astro';
import fs from 'fs';
import path from 'path';
import matter from 'gray-matter';

const indexPath = path.resolve('./content/index.md');
const { data: indexData, content: indexContent } = matter.read(indexPath);
---

<style>
	/* Animaciones y efectos personalizados */
	@keyframes fadeInUp {
		from {
			opacity: 0;
			transform: translateY(30px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}
	
	@keyframes fadeInLeft {
		from {
			opacity: 0;
			transform: translateX(-30px);
		}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}
	
	@keyframes fadeInRight {
		from {
			opacity: 0;
			transform: translateX(30px);
		}
		to {
			opacity: 1;
			transform: translateX(0);
		}
	}
	
	@keyframes pulse {
		0%, 100% {
			transform: scale(1);
		}
		50% {
			transform: scale(1.05);
		}
	}
	
	@keyframes shimmer {
		0% {
			background-position: -200px 0;
		}
		100% {
			background-position: calc(200px + 100%) 0;
		}
	}
	
	/* Clases de utilidad para animaciones */
	.animate-fade-in-up {
		animation: fadeInUp 0.6s ease-out forwards;
	}
	
	.animate-fade-in-left {
		animation: fadeInLeft 0.6s ease-out forwards;
	}
	
	.animate-fade-in-right {
		animation: fadeInRight 0.6s ease-out forwards;
	}
	
	.animate-delay-100 {
		animation-delay: 0.1s;
	}
	
	.animate-delay-200 {
		animation-delay: 0.2s;
	}
	
	.animate-delay-300 {
		animation-delay: 0.3s;
	}
	
	.animate-delay-400 {
		animation-delay: 0.4s;
	}
	
	/* Efectos especiales */
	.hero-gradient {
		background: linear-gradient(135deg, 
			rgba(59, 130, 246, 0.1) 0%, 
			rgba(147, 51, 234, 0.1) 50%, 
			rgba(236, 72, 153, 0.1) 100%);
	}
	
	.card-hover {
		transition: all 0.3s ease;
	}
	
	.card-hover:hover {
		transform: translateY(-5px);
		box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
	}
	
	.btn-enhanced {
		background: linear-gradient(135deg, #3b82f6, #8b5cf6);
		background-size: 200% 200%;
		animation: shimmer 2s infinite;
		transition: all 0.3s ease;
	}
	
	.btn-enhanced:hover {
		background-position: right center;
		transform: translateY(-2px);
		box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
	}
	
	.profile-glow {
		box-shadow: 0 0 40px rgba(59, 130, 246, 0.3);
		transition: all 0.3s ease;
	}
	
	.profile-glow:hover {
		box-shadow: 0 0 60px rgba(59, 130, 246, 0.5);
	}
	
	/* Sistema de part√≠culas flotantes mejorado */
	.floating-particles {
		position: relative;
		overflow: hidden;
	}
	
	.floating-particles::before {
		content: '';
		position: absolute;
		top: 20%;
		left: 10%;
		width: 4px;
		height: 4px;
		background: linear-gradient(45deg, #3b82f6, #8b5cf6);
		border-radius: 50%;
		animation: float 6s ease-in-out infinite;
		opacity: 0.6;
		z-index: 1;
	}
	
	.floating-particles::after {
		content: '';
		position: absolute;
		top: 60%;
		right: 15%;
		width: 6px;
		height: 6px;
		background: linear-gradient(45deg, #ec4899, #f59e0b);
		border-radius: 50%;
		animation: float 8s ease-in-out infinite reverse;
		opacity: 0.5;
		z-index: 1;
	}
	
	/* Part√≠culas secundarias para secciones adicionales */
	<Layout title={indexData.title}>
		<main class="min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300">
			<section class="max-w-4xl mx-auto py-12 px-4">
				<h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-6 text-center">
					{indexData.title}
				</h1>
				<p class="text-lg text-center mb-8">{indexData.summary}</p>
				<div class="prose mx-auto">
					{indexContent}
				</div>
			</section>
		</main>
	</Layout>
						<Image 
							src={profileImage} 
							alt="Dr. Roberto S√°nchez Reolid"
							class="w-full h-full object-cover object-top transition-transform duration-700 hover:scale-105"
							widths={[400, 800]}
							sizes="(max-width: 768px) 100vw, 320px"
						/>
						<div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
					</div>
					<!-- Indicador de estado -->
					<div class="absolute -bottom-2 -right-2 bg-green-500 text-white px-2 sm:px-3 py-1 rounded-full text-xs font-medium shadow-lg animate-bounce">
						üü¢ Disponible
					</div>
				</div>
			</div>
			
			<!-- Contenido principal mejorado -->
			<div class="lg:w-2/3 text-center lg:text-left space-y-4 sm:space-y-6">
				<div class="animate-fade-in-right">
					<h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 dark:from-white dark:via-blue-200 dark:to-purple-200 bg-clip-text text-transparent mb-3 sm:mb-4 leading-tight">
						Roberto S√°nchez Reolid
					</h1>
					
					<div class="flex items-center justify-center lg:justify-start space-x-3 sm:space-x-4 mb-4 sm:mb-6">
						<div class="h-1 w-8 sm:w-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"></div>
						<p class="text-lg sm:text-xl md:text-2xl text-gray-600 dark:text-gray-300 font-light">
							Doctor en Inform√°tica
						</p>
						<div class="h-1 w-8 sm:w-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"></div>
					</div>
					
					<p class="text-base sm:text-lg text-gray-700 dark:text-gray-300 max-w-2xl leading-relaxed mb-6 sm:mb-8">
						Investigador especializado en <span class="font-semibold text-blue-600 dark:text-blue-400">Inteligencia Artificial</span> y 
						<span class="font-semibold text-emerald-600 dark:text-emerald-400">Sistemas Distribuidos</span> en la Universidad de Castilla-La Mancha.
					</p>
				</div>
				
				<!-- Botones de acci√≥n mejorados -->
				<div class="animate-fade-in-up animate-delay-200 flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center lg:justify-start">
					<a href="/publicaciones" class="btn btn-primary btn-enhanced group">
						<span class="flex items-center space-x-2">
							<span>üìö Ver Publicaciones</span>
							<span class="transform transition-transform group-hover:translate-x-1">‚Üí</span>
						</span>
					</a>
					<a href="/contacto" class="btn btn-outline group">
						<span class="flex items-center space-x-2">
							<span>üí¨ Contactar</span>
							<span class="transform transition-transform group-hover:scale-110">üìß</span>
						</span>
					</a>
				</div>
				
				<!-- Estad√≠sticas r√°pidas -->
				<div class="animate-fade-in-up animate-delay-300 grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 max-w-2xl mx-auto lg:mx-0">
					<div class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 sm:p-4 text-center card-hover">
						<div class="text-lg sm:text-2xl font-bold text-blue-600 dark:text-blue-400">{scholarData.metrics.totalCitations}</div>
						<div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">Citas</div>
					</div>
					<div class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 sm:p-4 text-center card-hover">
						<div class="text-lg sm:text-2xl font-bold text-purple-600 dark:text-purple-400">{scholarData.metrics.hIndex}</div>
						<div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">h-index</div>
					</div>
					<div class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 sm:p-4 text-center card-hover">
						<div class="text-lg sm:text-2xl font-bold text-emerald-600 dark:text-emerald-400">{scholarData.publications.length}</div>
						<div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">Papers</div>
					</div>
					<div class="bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-3 sm:p-4 text-center card-hover">
						<div class="text-lg sm:text-2xl font-bold text-orange-600 dark:text-orange-400">{scholarData.metrics.i10Index}</div>
						<div class="text-xs sm:text-sm text-gray-600 dark:text-gray-400">i10-index</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Secci√≥n "Sobre m√≠" redise√±ada -->
	<section class="relative py-8 sm:py-12 lg:py-16 bg-white dark:bg-gray-800 px-4 floating-particles-subtle">
		<div class="max-w-6xl mx-auto">
			<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 items-center">
				<div class="animate-fade-in-left">
					<div class="bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-700 dark:to-gray-800 rounded-3xl p-6 sm:p-8 shadow-xl border border-white/20">
						<h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-6">
							Sobre mi investigaci√≥n
						</h2>
						<p class="text-gray-700 dark:text-gray-300 text-base sm:text-lg leading-relaxed mb-4 sm:mb-6">
							Mi trabajo se centra en el desarrollo de tecnolog√≠as innovadoras
							y metodolog√≠as para resolver problemas complejos con aplicaciones pr√°cticas.
						</p>
						
						<div class="space-y-3 sm:space-y-4">
							<div class="flex items-center space-x-3">
								<div class="w-3 h-3 bg-blue-500 rounded-full animate-pulse"></div>
								<span class="text-sm sm:text-base text-gray-700 dark:text-gray-300">Especializaci√≥n en Inteligencia Artificial</span>
							</div>
							<div class="flex items-center space-x-3">
								<div class="w-3 h-3 bg-emerald-500 rounded-full animate-pulse" style="animation-delay: 0.2s;"></div>
								<span class="text-sm sm:text-base text-gray-700 dark:text-gray-300">Desarrollo de Sistemas Distribuidos</span>
							</div>
						</div>
					</div>
					
					<div class="text-center lg:text-left mt-6 sm:mt-8">
						<a href="/sobre-mi" class="btn btn-outline btn-enhanced group inline-flex items-center space-x-2">
							<span>üîç Conocer m√°s</span>
							<span class="transform transition-transform group-hover:translate-x-1">‚Üí</span>
						</a>
					</div>
				</div>
				
				<!-- M√©tricas -->
				<div class="animate-fade-in-right">
					<ScholarMetrics compact={true} />
				</div>
			</div>
		</div>
	</section>

	<!-- Publicaciones recientes -->
	<section class="relative py-8 sm:py-12 lg:py-16 px-4 floating-particles-subtle">
		<div class="max-w-4xl mx-auto">
			<RecentPublications 
				publications={recentPublications} 
				limit={3} 
				showTitle={true} 
				title="Publicaciones recientes" 
			/>
		</div>
	</section>

	<!-- Investigaciones destacadas -->
	<section class="relative py-8 sm:py-12 lg:py-16 bg-gray-50 dark:bg-gray-900 px-4 floating-particles-subtle">
		<div class="max-w-6xl mx-auto">
			<h2 class="text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-6 sm:mb-8 text-center">Investigaciones destacadas</h2>
			
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 mb-8 sm:mb-10">
				<div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden card-hover border border-gray-200/50 dark:border-gray-700/50">
					<!-- Imagen/Visual -->
					<div class="relative h-48 bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center">
						<div class="text-white text-6xl">ü§ñ</div>
						<div class="absolute inset-0 bg-black/20"></div>
						<div class="absolute top-4 right-4 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1">
							<span class="text-white text-sm font-medium">En curso</span>
						</div>
					</div>
					
					<!-- Contenido -->
					<div class="p-6">
						<div class="flex items-center gap-2 mb-3">
							<span class="bg-blue-100 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium">IA</span>
							<span class="bg-green-100 dark:bg-green-900/50 text-green-700 dark:text-green-300 px-3 py-1 rounded-full text-sm font-medium">Educaci√≥n</span>
						</div>
						
						<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">Inteligencia Artificial Aplicada</h3>
						<p class="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed">
							Investigaci√≥n sobre aplicaciones de la IA en entornos educativos y su impacto en el aprendizaje personalizado. 
							Desarrollo de sistemas de tutor√≠a inteligente que adaptan el contenido educativo.
						</p>
						
						<!-- Informaci√≥n adicional -->
						<div class="flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-4">
							<span>üìÖ 2022 - Actualidad</span>
							<span>üí∞ 150,000‚Ç¨</span>
						</div>
						
						<!-- Barra de progreso -->
						<div class="mb-4">
							<div class="flex items-center justify-between text-sm mb-1">
								<span class="text-gray-700 dark:text-gray-300">Progreso</span>
								<span class="text-blue-600 dark:text-blue-400 font-semibold">75%</span>
							</div>
							<div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
								<div class="bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-1000" style="width: 75%"></div>
							</div>
						</div>
						
						<a href="/proyectos/ia-educacion" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 px-4 rounded-lg text-center font-medium transition-all duration-200 block transform hover:scale-105">
							Ver detalles completos
						</a>
					</div>
				</div>
				
				<div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden card-hover border border-gray-200/50 dark:border-gray-700/50">
					<!-- Imagen/Visual -->
					<div class="relative h-48 bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center">
						<div class="text-white text-6xl">‚ö°</div>
						<div class="absolute inset-0 bg-black/20"></div>
						<div class="absolute top-4 right-4 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1">
							<span class="text-white text-sm font-medium">Finalizado</span>
						</div>
					</div>
					
					<!-- Contenido -->
					<div class="p-6">
						<div class="flex items-center gap-2 mb-3">
							<span class="bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 px-3 py-1 rounded-full text-sm font-medium">Sistemas</span>
							<span class="bg-orange-100 dark:bg-orange-900/50 text-orange-700 dark:text-orange-300 px-3 py-1 rounded-full text-sm font-medium">Eficiencia</span>
						</div>
						
						<h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">Sistemas Distribuidos Eficientes</h3>
						<p class="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed">
							Desarrollo de nuevas arquitecturas para sistemas distribuidos con mayor eficiencia energ√©tica y rendimiento optimizado.
							Reducci√≥n del 30% en consumo energ√©tico.
						</p>
						
						<!-- Informaci√≥n adicional -->
						<div class="flex items-center justify-between text-sm text-gray-600 dark:text-gray-400 mb-4">
							<span>üìÖ 2020 - 2023</span>
							<span>üí∞ 80,000‚Ç¨</span>
						</div>
						
						<!-- Barra de progreso -->
						<div class="mb-4">
							<div class="flex items-center justify-between text-sm mb-1">
								<span class="text-gray-700 dark:text-gray-300">Progreso</span>
								<span class="text-emerald-600 dark:text-emerald-400 font-semibold">100%</span>
							</div>
							<div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2">
								<div class="bg-gradient-to-r from-emerald-500 to-teal-600 h-2 rounded-full transition-all duration-1000" style="width: 100%"></div>
							</div>
						</div>
						
						<a href="/proyectos/sistemas-distribuidos" class="w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white py-3 px-4 rounded-lg text-center font-medium transition-all duration-200 block transform hover:scale-105">
							Ver detalles completos
						</a>
					</div>
				</div>
			</div>
			
			<div class="text-center">
				<a href="/proyectos" class="bg-white dark:bg-gray-800 border-2 border-blue-500 dark:border-blue-400 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-gray-700 px-6 py-3 rounded-lg font-medium transition-all duration-200 inline-flex items-center space-x-2 transform hover:scale-105">
					<span>Ver todas las investigaciones</span>
					<span>‚Üí</span>
				</a>
			</div>
		</div>
	</section>
</Layout>
