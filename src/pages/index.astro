---
import Layout from '../layouts/Layout.astro';
import fs from 'fs';
import path from 'path';
import matter from 'gray-matter';

const indexPath = path.resolve('./content/index.md');
const { data: indexData, content: indexContent } = matter.read(indexPath);
---

<style>
	.prose {
		max-width: 65ch;
	}
	
	.prose h1, .prose h2, .prose h3 {
		color: #1f2937;
	}
	
	.dark .prose h1, .dark .prose h2, .dark .prose h3 {
		color: #f9fafb;
	}
	
	.prose p {
		color: #4b5563;
		line-height: 1.7;
	}
	
	.dark .prose p {
		color: #d1d5db;
	}
</style>

<Layout title={indexData.title}>
	<main class="min-h-screen bg-white dark:bg-gray-900 transition-colors duration-300">
		<section class="max-w-4xl mx-auto py-12 px-4">
			<h1 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-6 text-center text-gray-900 dark:text-white">
				{indexData.title}
			</h1>
			<p class="text-lg text-center mb-8 text-gray-600 dark:text-gray-300">{indexData.summary}</p>
			<div class="prose mx-auto dark:prose-invert">
				<div set:html={indexContent}></div>
			</div>
		</section>
	</main>
</Layout>
